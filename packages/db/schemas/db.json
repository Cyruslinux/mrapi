{"$ref":"db#/definitions/db.Options","definitions":{"db.Options":{"title":"db.Options","type":"object","properties":{"name":{"type":"string","title":"name"},"management":{"$ref":"db#/definitions/mrapi.db.PathObject","title":"management"},"tenants":{"$ref":"db#/definitions/mrapi.db.TenantsOption","title":"tenants"},"defaultTenant":{"type":"string","title":"defaultTenant"},"tenantSchema":{"type":"string","title":"tenantSchema"},"TenantClient":{"title":"TenantClient"},"ManagementClient":{"title":"ManagementClient"},"paths":{"$ref":"db#/definitions/mrapi.db.PathObject","title":"paths"},"migrateFn":{"title":"migrateFn"},"prismaOptions":{"$ref":"db#/definitions/mrapi.db.PrismaOptions","title":"prismaOptions"},"prismaMiddlewares":{"$ref":"db#/definitions/mrapi.db.PrismaMiddlewares","title":"prismaMiddlewares"},"logger":{"$ref":"db#/definitions/LoggerOptions","title":"logger"}},"additionalProperties":false},"mrapi.db.PathObject":{"title":"mrapi.db.PathObject","$ref":"db#/definitions/db.PathObject"},"db.PathObject":{"title":"db.PathObject","type":"object","additionalProperties":{"type":"string"},"properties":{"name":{"type":"string","title":"name"},"input":{"type":"string","title":"input"},"output":{"type":"string","title":"output"},"database":{"type":"string","title":"database"},"inputSchema":{"type":"string","title":"inputSchema"},"outputSchema":{"type":"string","title":"outputSchema"},"outputDatabase":{"type":"string","title":"outputDatabase"},"outputPrismaClient":{"type":"string","title":"outputPrismaClient"}}},"mrapi.db.TenantsOption":{"title":"mrapi.db.TenantsOption","type":"array","items":{"additionalProperties":false,"type":"object","properties":{"options":{"title":"options"},"name":{"type":"string","title":"name"},"input":{"type":"string","title":"input"},"output":{"type":"string","title":"output"},"database":{"type":"string","title":"database"},"inputSchema":{"type":"string","title":"inputSchema"},"outputSchema":{"type":"string","title":"outputSchema"},"outputDatabase":{"type":"string","title":"outputDatabase"},"outputPrismaClient":{"type":"string","title":"outputPrismaClient"}}}},"mrapi.db.PrismaOptions":{"title":"mrapi.db.PrismaOptions","type":"object","properties":{"errorFormat":{"enum":["colorless","minimal","pretty"],"type":"string","title":"errorFormat"},"log":{"title":"log"}},"additionalProperties":false},"mrapi.db.PrismaMiddlewares":{"title":"mrapi.db.PrismaMiddlewares","type":"array","items":{}},"LoggerOptions":{"title":"LoggerOptions","$ref":"db#/definitions/LoggerOptions_1"},"LoggerOptions_1":{"title":"LoggerOptions_1","type":"object","properties":{"safe":{"description":"Avoid error causes by circular references in the object tree. Default: `true`.","type":"boolean","title":"safe"},"name":{"description":"The name of the logger. Default: `undefined`.","type":"string","title":"name"},"serializers":{"description":"an object containing functions for custom serialization of objects.\nThese functions should return an JSONifiable object and they should never throw. When logging an object,\neach top-level property matching the exact key of a serializer will be serialized using the defined serializer.","type":"object","additionalProperties":{"type":"object","additionalProperties":false},"title":"serializers"},"timestamp":{"description":"Enables or disables the inclusion of a timestamp in the log message. If a function is supplied, it must\nsynchronously return a JSON string representation of the time. If set to `false`, no timestamp will be included in the output.\nSee stdTimeFunctions for a set of available functions for passing in as a value for this option.\nCaution: any sort of formatted time will significantly slow down Pino's performance.","anyOf":[{"type":"object","additionalProperties":false},{"type":"boolean"}],"title":"timestamp"},"level":{"description":"One of the supported levels or `silent` to disable logging. Any other value defines a custom level and\nrequires supplying a level value via `levelVal`. Default: 'info'.","type":"string","title":"level"},"useLevelLabels":{"description":"Outputs the level as a string instead of integer. Default: `false`.","type":"boolean","title":"useLevelLabels"},"levelKey":{"description":"Changes the property `level` to any string value you pass in. Default: 'level'","type":"string","title":"levelKey"},"changeLevelName":{"description":"(DEPRECATED, use `levelKey`) Changes the property `level` to any string value you pass in. Default: 'level'","type":"string","title":"changeLevelName"},"customLevels":{"description":"Use this option to define additional logging levels.\nThe keys of the object correspond the namespace of the log level, and the values should be the numerical value of the level.","type":"object","additionalProperties":{"type":"number"},"title":"customLevels"},"useOnlyCustomLevels":{"description":"Use this option to only use defined `customLevels` and omit Pino's levels.\nLogger's default `level` must be changed to a value in `customLevels` in order to use `useOnlyCustomLevels`\nWarning: this option may not be supported by downstream transports.","type":"boolean","title":"useOnlyCustomLevels"},"mixin":{"$ref":"db#/definitions/P.MixinFn","description":"If provided, the `mixin` function is called each time one of the active logging methods\nis called. The function must synchronously return an object. The properties of the\nreturned object will be added to the logged JSON.","title":"mixin"},"redact":{"description":"As an array, the redact option specifies paths that should have their values redacted from any log output.\n\nEach path must be a string using a syntax which corresponds to JavaScript dot and bracket notation.\n\nIf an object is supplied, three options can be specified:\n\n      paths (String[]): Required. An array of paths\n      censor (String): Optional. A value to overwrite key which are to be redacted. Default: '[Redacted]'\n      remove (Boolean): Optional. Instead of censoring the value, remove both the key and the value. Default: false","anyOf":[{"type":"array","items":{"type":"string"}},{"$ref":"db#/definitions/redactOptions"}],"title":"redact"},"levelVal":{"description":"When defining a custom log level via level, set to an integer value to define the new level. Default: `undefined`.","type":"number","title":"levelVal"},"messageKey":{"description":"The string key for the 'message' in the JSON object. Default: \"msg\".","type":"string","title":"messageKey"},"nestedKey":{"description":"The string key to place any logged object under.","type":"string","title":"nestedKey"},"prettyPrint":{"description":"Enables pino.pretty. This is intended for non-production configurations. This may be set to a configuration\nobject as outlined in http://getpino.io/#/docs/API?id=pretty. Default: `false`.","anyOf":[{"$ref":"db#/definitions/PrettyOptions"},{"type":"boolean"}],"title":"prettyPrint"},"prettifier":{"description":"Allows to optionally define which prettifier module to use.","title":"prettifier"},"enabled":{"description":"Enables logging. Default: `true`.","type":"boolean","title":"enabled"},"browser":{"description":"Browser only, see http://getpino.io/#/docs/browser.","type":"object","properties":{"asObject":{"description":"The `asObject` option will create a pino-like log object instead of passing all arguments to a console\nmethod. When `write` is set, `asObject` will always be true.","type":"boolean","title":"asObject"},"write":{"description":"Instead of passing log messages to `console.log` they can be passed to a supplied function. If `write` is\nset to a single function, all logging objects are passed to this function. If `write` is an object, it\ncan have methods that correspond to the levels. When a message is logged at a given level, the\ncorresponding method is called. If a method isn't present, the logging falls back to using the `console`.","anyOf":[{"type":"object","additionalProperties":false},{"additionalProperties":false,"type":"object","properties":{"fatal":{"$ref":"db#/definitions/P.WriteFn","title":"fatal"},"error":{"$ref":"db#/definitions/P.WriteFn","title":"error"},"warn":{"$ref":"db#/definitions/P.WriteFn","title":"warn"},"info":{"$ref":"db#/definitions/P.WriteFn","title":"info"},"debug":{"$ref":"db#/definitions/P.WriteFn","title":"debug"},"trace":{"$ref":"db#/definitions/P.WriteFn","title":"trace"}}}],"title":"write"},"serialize":{"description":"The serializers provided to `pino` are ignored by default in the browser, including the standard\nserializers provided with Pino. Since the default destination for log messages is the console, values\nsuch as `Error` objects are enhanced for inspection, which they otherwise wouldn't be if the Error\nserializer was enabled. We can turn all serializers on or we can selectively enable them via an array.\n\nWhen `serialize` is `true` the standard error serializer is also enabled (see\n{@link https://github.com/pinojs/pino/blob/master/docs/api.md#pino-stdserializers}). This is a global\nserializer which will apply to any `Error` objects passed to the logger methods.\n\nIf `serialize` is an array the standard error serializer is also automatically enabled, it can be\nexplicitly disabled by including a string in the serialize array: `!stdSerializers.err` (see example).\n\nThe `serialize` array also applies to any child logger serializers (see\n{@link https://github.com/pinojs/pino/blob/master/docs/api.md#bindingsserializers-object} for how to\nset child-bound serializers).\n\nUnlike server pino the serializers apply to every object passed to the logger method, if the `asObject`\noption is `true`, this results in the serializers applying to the first object (as in server pino).\n\nFor more info on serializers see\n{@link https://github.com/pinojs/pino/blob/master/docs/api.md#serializers-object}.","anyOf":[{"type":"array","items":{"type":"string"}},{"type":"boolean"}],"title":"serialize"},"transmit":{"description":"Options for transmission of logs.","type":"object","properties":{"level":{"description":"Specifies the minimum level (inclusive) of when the `send` function should be called, if not supplied\nthe `send` function will be called based on the main logging `level` (set via `options.level`,\ndefaulting to `info`).","type":"string","title":"level"},"send":{"description":"Called after writing the log message.","type":"object","additionalProperties":false,"title":"send"}},"additionalProperties":false,"required":["send"],"title":"transmit"}},"additionalProperties":false,"title":"browser"},"base":{"description":"key-value object added as child logger to each log line. If set to null the base child logger is not added","anyOf":[{"type":"object","additionalProperties":{}},{"type":"null"}],"title":"base"},"formatters":{"description":"An object containing functions for formatting the shape of the log lines.\nThese functions should return a JSONifiable object and should never throw.\nThese functions allow for full customization of the resulting log lines.\nFor example, they can be used to change the level key name or to enrich the default metadata.","type":"object","properties":{"level":{"description":"Changes the shape of the log level.\nThe default shape is { level: number }.\nThe function takes two arguments, the label of the level (e.g. 'info') and the numeric value (e.g. 30).","type":"object","additionalProperties":false,"title":"level"},"bindings":{"description":"Changes the shape of the bindings.\nThe default shape is { pid, hostname }.\nThe function takes a single argument, the bindings object.\nIt will be called every time a child logger is created.","type":"object","additionalProperties":false,"title":"bindings"},"log":{"description":"Changes the shape of the log object.\nThis function will be called every time one of the log methods (such as .info) is called.\nAll arguments passed to the log method, except the message, will be pass to this function.\nBy default it does not change the shape of the log object.","type":"object","additionalProperties":false,"title":"log"}},"additionalProperties":false,"title":"formatters"},"hooks":{"description":"An object mapping to hook functions. Hook functions allow for customizing internal logger operations.\nHook functions must be synchronous functions.","type":"object","properties":{"logMethod":{"description":"Allows for manipulating the parameters passed to logger methods. The signature for this hook is\nlogMethod (args, method) {}, where args is an array of the arguments that were passed to the\nlog method and method is the log method itself. This hook must invoke the method function by\nusing apply, like so: method.apply(this, newArgumentsArray).","type":"object","additionalProperties":false,"title":"logMethod"}},"additionalProperties":false,"title":"hooks"}},"additionalProperties":false},"P.MixinFn":{"title":"P.MixinFn","type":"object","additionalProperties":false},"redactOptions":{"title":"redactOptions","type":"object","properties":{"paths":{"type":"array","items":{"type":"string"},"title":"paths"},"censor":{"anyOf":[{"type":"object","additionalProperties":false},{"type":"string"}],"title":"censor"},"remove":{"type":"boolean","title":"remove"}},"additionalProperties":false,"required":["paths"]},"PrettyOptions":{"title":"PrettyOptions","type":"object","properties":{"translateTime":{"description":"Translate the epoch time value into a human readable date and time string.\nThis flag also can set the format string to apply when translating the date to human readable format.\nThe default format is yyyy-mm-dd HH:MM:ss.l o in UTC.\nFor a list of available pattern letters see the {@link https://www.npmjs.com/package/dateformat|dateformat documentation}.","type":["string","boolean"],"title":"translateTime"},"levelFirst":{"description":"If set to true, it will print the name of the log level as the first field in the log line. Default: `false`.","type":"boolean","title":"levelFirst"},"messageKey":{"description":"The key in the JSON object to use as the highlighted message. Default: \"msg\".","type":"string","title":"messageKey"},"timestampKey":{"description":"The key in the JSON object to use for timestamp display. Default: \"time\".","type":"string","title":"timestampKey"},"messageFormat":{"description":"Format output of message, e.g. {level} - {pid} will output message: INFO - 1123 Default: `false`.","anyOf":[{"enum":[false],"type":"boolean"},{"type":"string"}],"title":"messageFormat"},"colorize":{"description":"If set to true, will add color information to the formatted output message. Default: `false`.","type":"boolean","title":"colorize"},"crlf":{"description":"Appends carriage return and line feed, instead of just a line feed, to the formatted log line.","type":"boolean","title":"crlf"},"errorLikeObjectKeys":{"description":"Define the log keys that are associated with error like objects. Default: [\"err\", \"error\"]","type":"array","items":{"type":"string"},"title":"errorLikeObjectKeys"},"errorProps":{"description":"When formatting an error object, display this list of properties.\nThe list should be a comma separated list of properties. Default: ''","type":"string","title":"errorProps"},"search":{"description":"Specify a search pattern according to {@link http://jmespath.org|jmespath}","type":"string","title":"search"},"ignore":{"description":"Ignore one or several keys. Example: \"time,hostname\"","type":"string","title":"ignore"},"suppressFlushSyncWarning":{"description":"Suppress warning on first synchronous flushing.","type":"boolean","title":"suppressFlushSyncWarning"}},"additionalProperties":false},"P.WriteFn":{"title":"P.WriteFn","type":"object","additionalProperties":false}},"$schema":"http://json-schema.org/draft-07/schema#","$id":"db"}
